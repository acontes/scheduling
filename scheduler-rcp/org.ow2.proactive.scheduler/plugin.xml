<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run
               class="org.ow2.proactive.scheduler.Application">
         </run>
      </application>
   </extension>

  <extension
        id="scheduler"
        point="org.eclipse.core.runtime.products">
     <product
           application="org.ow2.proactive.scheduler.application"
           name="ProActive Scheduler Client">
        <property
              name="aboutText"
              value="%About.text"/>
        <property
              name="appName"
              value="ProActive Scheduler Client"/>
        <property
              name="startupProgressRect"
              value="10,10,435,15"/>
        <property
              name="startupForegroundColor"
              value="EB791F"/>
        <property
              name="startupMessageRect"
              value="10,30,435,20"/>
        <property
              name="aboutImage"
              value="icons/alt_about.gif"/>
        <property
              name="windowImages"
              value="icons/alt_window_16.gif,icons/alt_window_32.gif"/>
        <property
              name="preferenceCustomization"
              value="plugin_customization.ini">
        </property>
     </product>
  </extension>

   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.ow2.proactive.scheduler.gui.perspective.SchedulerPerspective"
            id="org.ow2.proactive.scheduler.gui.perspective.SchedulerPerspective"
            name="Orchestration &amp;&amp; Scheduling">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="org.ow2.proactive.scheduler.gui"
            name="Scheduler">
      </category>
      <view
            allowMultiple="false"
            category="org.ow2.proactive.scheduler.gui"
            class="org.ow2.proactive.scheduler.gui.views.SeparatedJobView"
            icon="icons/monitoring.gif"
            id="org.ow2.proactive.scheduler.gui.views.SeparatedJobView"
            name="Jobs">
      </view>
      <view
            allowMultiple="false"
            category="org.ow2.proactive.scheduler.gui"
            class="org.ow2.proactive.scheduler.gui.views.JobInfo"
            icon="icons/info.png"
            id="org.ow2.proactive.scheduler.gui.views.JobInfo"
            name="Job Info">
      </view>
      <view
            allowMultiple="false"
            category="org.ow2.proactive.scheduler.gui"
            class="org.ow2.proactive.scheduler.gui.views.TaskView"
            icon="icons/monitoring.gif"
            id="org.ow2.proactive.scheduler.gui.views.TaskView"
            name="Tasks">
      </view>
      <view
            allowMultiple="false"
            category="org.ow2.proactive.scheduler.gui"
            class="org.ow2.proactive.scheduler.gui.views.ResultPreview"
            icon="icons/info.png"
            id="org.ow2.proactive.scheduler.gui.views.ResultPreview"
            name="Result Preview">
      </view>
      <view
            allowMultiple="false"
            category="org.ow2.proactive.scheduler.gui"
            class="org.ow2.proactive.scheduler.gui.views.Users"
            icon="icons/info.png"
            id="org.ow2.proactive.scheduler.gui.views.Users"
            name="Logged users">
      </view>
      <view
            category="org.ow2.proactive.scheduler.gui"
            class="org.ow2.proactive.scheduler.gui.views.ServersView"
            icon="icons/server.png"
            id="org.ow2.proactive.scheduler.gui.views.ServersView"
            name="Data Servers">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.ow2.proactive.scheduler.gui.perspective.SchedulerPerspective">
         <perspectiveShortcut
               id="org.ow2.proactive.scheduler.gui.perspective.SchedulerPerspective">
         </perspectiveShortcut>
         <viewShortcut
               id="org.ow2.proactive.scheduler.gui.views.SeparatedJobView">
         </viewShortcut>
         <viewShortcut
               id="org.eclipse.ui.console.ConsoleView">
         </viewShortcut>
         <viewShortcut
               id="org.ow2.proactive.scheduler.gui.views.JobInfo">
         </viewShortcut>
         <viewShortcut
               id="org.ow2.proactive.scheduler.gui.views.TaskView">
         </viewShortcut>
         <viewShortcut
               id="org.ow2.proactive.scheduler.gui.views.ResultPreview">
         </viewShortcut>
         <viewShortcut
               id="org.ow2.proactive.scheduler.gui.views.ServersView">
         </viewShortcut>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="org.ow2.proactive.scheduler.gui.preferences.RemoteConnectionPreferences"
            id="org.ow2.proactive.scheduler.gui.preferences.RemoteConnectionPreferences"
            name="Remote Connection">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="org.ow2.proactive.scheduler.gui.preferences.PreferenceInitializer">
      </initializer>
   </extension>
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="org.ow2.proactive.scheduler.application"
            name="ProActive Scheduler Client">
         <property
               name="windowImages"
               value="icons/alt_window_16.gif,icons/alt_window_32.gif">
         </property>
         <property
               name="aboutText"
               value="%About.text">
         </property>
         <property
               name="aboutImage"
               value="icons/alt_about.gif">
         </property>
         <property
               name="startupForegroundColor"
               value="EB791F">
         </property>
         <property
               name="startupProgressRect"
               value="10,10,435,15">
         </property>
         <property
               name="startupMessageRect"
               value="10,30,435,20">
         </property>
         <property
               name="appName"
               value="ProActive Scheduler Client">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>
      </product>
	</extension>
	<extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.ConnectHandler"
            description="Connect the started ProActive Scheduler by its url"
            id="org.ow2.proactive.scheduler.connectCommand"
            name="Connect">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.DisconnectHandler"
            id="org.ow2.proactive.scheduler.disconnectCommand"
            name="Disconnect">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.SubmitJobHandler"
            description="Sumbits a job for execution to the ProActive Scheduler"
            id="org.ow2.proactive.scheduler.submitJob"
            name="Submit Job">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.SubmitJobEditVarsHandler"
            description="Sumbits a job for execution to the ProActive Scheduler (with edition of variables)"
            id="org.ow2.proactive.scheduler.submitJobEditVars"
            name="Submit Job With Variable Edition">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.SubmitFlatFileJobHandler"
            description="Submits a file containing commands"
            id="org.ow2.proactive.scheduler.submitFlatFileJob"
            name="Submit Job (flat file)">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.SubmitListHandler"
            description="Sumbits a job for execution to the ProActive Scheduler"
            id="org.ow2.proactive.scheduler.submitJobDropDown"
            name="Submit Job ...">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.StartSchedulerHandler"
            id="org.ow2.proactive.scheduler.startScheduler"
            name="Start scheduler">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.StopSchedulerHandler"
            id="org.ow2.proactive.scheduler.stopScheduler"
            name="Stop scheduler">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.FreezeSchedulerHandler"
            id="org.ow2.proactive.scheduler.freeze"
            name="Freeze Scheduler">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.PauseSchedulerHandler"
            id="org.ow2.proactive.scheduler.pause"
            name="Pause Scheduler">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.ResumeSchedulerHandler"
            id="org.ow2.proactive.scheduler.resume"
            name="Resume Scheduler">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.ShutdownSchedulerHandler"
            id="org.ow2.proactive.scheduler.shutdown"
            name="Shutdown Scheduler">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.KillSchedulerHandler"
            id="org.ow2.proactive.scheduler.kill"
            name="Kill Scheduler">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.ShowRuntimeDataHandler"
            id="org.ow2.proactive.scheduler.showruntimedata"
            name="Show Runtime Data">
      </command>
      <command
            defaultHandler="org.ow2.proactive.scheduler.gui.handlers.ShowMyAccountHandler"
            id="org.ow2.proactive.scheduler.showmyAccount"
            name="Show My Account">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="toolbar:org.eclipse.ui.main.toolbar">
         <toolbar
               id="schedulerToolbar">
            <command
                  commandId="org.ow2.proactive.scheduler.connectCommand"
                  icon="icons/connect.gif"
                  id="org.ow2.proactive.scheduler.connectToolbarItem"
                  label="Connect"
                  style="push"
                  tooltip="Connect the started ProActive Scheduler by its url">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.disconnectCommand"
                  icon="icons/disconnect.gif"
                  id="org.ow2.proactive.scheduler.disconnectToolbarItem"
                  label="Disconnect"
                  style="push"
                  tooltip="Disconnect from the ProActive Scheduler">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <separator
                  name="org.ow2.proactive.scheduler.separator1"
                  visible="true">
            </separator>
            <command
                  commandId="org.ow2.proactive.scheduler.submitJobDropDown"
                  icon="icons/job_submit.gif"
                  label="Submit Job"
                  style="pulldown">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <separator
                  name="org.ow2.proactive.scheduler.separator2"
                  visible="true">
            </separator>
            <command
                  commandId="org.ow2.proactive.scheduler.startScheduler"
                  icon="icons/scheduler_start.png"
                  label="Start Scheduler"
                  style="push"
                  tooltip="Start the scheduler (this will start or restart the scheduler)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.gui.handlers.canstart">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.stopScheduler"
                  icon="icons/scheduler_stop.png"
                  label="Stop Scheduler"
                  style="push"
                  tooltip="Stop the scheduler (this will finish all pending and running jobs)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.gui.handlers.canstop">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.freeze"
                  icon="icons/scheduler_freeze.gif"
                  id="org.ow2.proactive.scheduler.freezeToolbarItem"
                  label="Freeze Scheduler"
                  style="push"
                  tooltip="Freeze the scheduler (Only running Tasks will be terminated)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.pause"
                  icon="icons/scheduler_pause.png"
                  id="org.ow2.proactive.scheduler.pauseToolbarItem"
                  label="Pause Scheduler"
                  style="push"
                  tooltip="Pause the scheduler (All running Jobs will be terminated)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.resume"
                  icon="icons/scheduler_resume.png"
                  id="org.ow2.proactive.scheduler.resumeToolbarItem"
                  label="Resume Scheduler"
                  style="push"
                  tooltip="Resume the scheduler">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.shutdown"
                  icon="icons/scheduler_shutdown.png"
                  id="org.ow2.proactive.scheduler.shutdownToolbarItem"
                  label="Shutdown Scheduler"
                  style="push"
                  tooltip="Shutdown the scheduler (This will finish all running and pending jobs before shutdown)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.kill"
                  icon="icons/scheduler_kill.png"
                  id="org.ow2.proactive.scheduler.killToolbarItem"
                  label="Kill Scheduler"
                  style="push"
                  tooltip="Kill the scheduler (this kill immediately the scheduler)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <separator
                  name="org.ow2.proactive.scheduler.separator2"
                  visible="true">
            </separator>
            <command
                  commandId="org.ow2.proactive.scheduler.showruntimedata"
                  icon="icons/areacharticon.gif"
                  id="org.ow2.proactive.scheduler.showruntimedataToolbarItem"
                  label="Show Runtime Monitoring"
                  style="push"
                  tooltip="Show Runtime Monitoring and History">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.showmyAccount"
                  icon="icons/user.png"
                  id="org.ow2.proactive.scheduler.showmyAccountToolbarItem"
                  label="Show My Account Data"
                  style="push"
                  tooltip="Show My Account">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
         </toolbar>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:org.ow2.proactive.scheduler.submitJobDropDown">
         <command
               commandId="org.ow2.proactive.scheduler.submitJobEditVars"
               label="Submits with edition of variables"
               style="push">
         </command>
         <command
               commandId="org.ow2.proactive.scheduler.submitJob"
               label="Submits an XML job or a job archive"
               style="push">
         </command>
         <command
               commandId="org.ow2.proactive.scheduler.submitFlatFileJob"
               label="Submits a file containing commands"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu?before=window">
         <menu
               id="Scheduler"
               label="Scheduler"
               mnemonic="S">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="org.ow2.proactive.scheduler.ShowActions">
                  <equals
                        value="YES">
                  </equals>
               </with>
            </visibleWhen>
            <command
                  commandId="org.ow2.proactive.scheduler.connectCommand"
                  icon="icons/connect.gif"
                  label="Connect"
                  mnemonic="C"
                  tooltip="connect to the Scheduler Server">
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.disconnectCommand"
                  icon="icons/disconnect.gif"
                  label="Disconnect"
                  mnemonic="D"
                  tooltip="disconnect from the Scheduler Server">
            </command>
            <separator
                  name="org.ow2.proactive.scheduler.separator3"
                  visible="true">
            </separator>
            <command
                  commandId="org.ow2.proactive.scheduler.startScheduler"
                  icon="icons/scheduler_start.png"
                  label="Start Scheduler"
                  style="push"
                  tooltip="Start the scheduler (this will start or restart the scheduler)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.gui.handlers.canstart">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.stopScheduler"
                  icon="icons/scheduler_stop.png"
                  label="Stop Scheduler"
                  style="push"
                  tooltip="Stop the scheduler (this will finish all pending and running jobs)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.gui.handlers.canstop">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.freeze"
                  icon="icons/scheduler_freeze.gif"
                  id="org.ow2.proactive.scheduler.freezeToolbarItem"
                  label="Freeze Scheduler"
                  style="push"
                  tooltip="Freeze the scheduler (Only running Tasks will be terminated)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.pause"
                  icon="icons/scheduler_pause.png"
                  id="org.ow2.proactive.scheduler.pauseToolbarItem"
                  label="Pause Scheduler"
                  style="push"
                  tooltip="Pause the scheduler (All running Jobs will be terminated)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.resume"
                  icon="icons/scheduler_resume.png"
                  id="org.ow2.proactive.scheduler.resumeToolbarItem"
                  label="Resume Scheduler"
                  style="push"
                  tooltip="Resume the scheduler">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <separator
                  name="org.ow2.proactive.scheduler.separator4"
                  visible="true">
            </separator>
            <command
                  commandId="org.ow2.proactive.scheduler.shutdown"
                  icon="icons/scheduler_shutdown.png"
                  id="org.ow2.proactive.scheduler.shutdownToolbarItem"
                  label="Shutdown Scheduler"
                  style="push"
                  tooltip="Shutdown the scheduler (This will finish all running and pending jobs before shutdown)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.kill"
                  icon="icons/scheduler_kill.png"
                  id="org.ow2.proactive.scheduler.killToolbarItem"
                  label="Kill Scheduler"
                  style="push"
                  tooltip="Kill the scheduler (this kill immediately the scheduler)">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
         </menu>
         <menu
               id="Run"
               label="Run"
               mnemonic="R">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="org.ow2.proactive.scheduler.ShowActions">
                  <equals
                        value="YES">
                  </equals>
               </with>
            </visibleWhen>
            <command
                  commandId="org.ow2.proactive.scheduler.submitJob"
                  label="Submit an XML job or a job archive"
                  style="push">
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.submitJobEditVars"
                  label="Submit with edition of variables"
                  style="push">
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.submitFlatFileJob"
                  label="Submit a file containing commands"
                  style="push">
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu?after=Scheduler">
         <menu
               id="window"
               label="&amp;Window">
            <command
                  commandId="org.ow2.proactive.scheduler.showruntimedata"
                  icon="icons/areacharticon.gif"
                  id="org.ow2.proactive.scheduler.showruntimedataToolbarItem"
                  label="Show Runtime Monitoring"
                  style="push"
                  tooltip="Show Runtime Monitoring and History">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.ow2.proactive.scheduler.showmyAccount"
                  icon="icons/user.png"
                  id="org.ow2.proactive.scheduler.showmyAccountToolbarItem"
                  label="Show My Account Data"
                  style="push"
                  tooltip="Show My Account">
               <visibleWhen
                     checkEnabled="false">
                  <with
                        variable="org.ow2.proactive.scheduler.ShowActions">
                     <equals
                           value="YES">
                     </equals>
                  </with>
               </visibleWhen>
            </command>
            <command
                  commandId="org.eclipse.ui.window.preferences"
                  label="Preferences"
                  style="push">
            </command>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.services">
      <sourceProvider
            provider="org.ow2.proactive.scheduler.gui.handlers.SchedulerStatusSourceProvider">
         <variable
               name="org.ow2.proactive.scheduler.gui.handlers.canstart"
               priorityLevel="workbench">
         </variable>
         <variable
               name="org.ow2.proactive.scheduler.gui.handlers.canstop"
               priorityLevel="workbench">
         </variable>
      </sourceProvider>
      <sourceProvider
            provider="org.ow2.proactive.scheduler.gui.perspective.SchedulerPerspectiveSourceProvider">
         <variable
               name="org.ow2.proactive.scheduler.ShowActions"
               priorityLevel="workbench">
         </variable>
      </sourceProvider>
   </extension>
</plugin>
