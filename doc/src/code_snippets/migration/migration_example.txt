import org.objectweb.proactive.ProActive;
public class SimpleAgent implements Serializable {
   public SimpleAgent() {} //empty, no-arg constructor required by ProActive
   public void moveTo(String t) {
      try {
         PAMobileAgent.migrateTo(t);
      } catch (Exception e) {
         e.printStackTrace();
      }
    }
    public String whereAreYou() {
      try {
         return InetAddress.getLocalHost().getHostName();
      } catch (Exception e) {
         return 'Localhost lookup failed';
      }
    }
    public static void main (String[] args) {
      if (!(args.length<0)) {
        System.out.println('Usage: java migration.test.TestSimple hostname/NodeName ');
        System.exit(-1);
      }
      SimpleAgent t = null;
      try {
        // create the SimpleAgent in this JVM
        t = (SimpleAgent) ProActive.newActive('migration.test.SimpleAgent',null);
      } catch (Exception e) {
        e.printStackTrace();
      }
      // migrate the SimpleAgent to the location identified by the given node URL
      // we assume here that the node does already exist
      t.moveTo(args[0]);
      System.out.println('The Active Object is now on host ' + t.whereAreYou());
    }
}