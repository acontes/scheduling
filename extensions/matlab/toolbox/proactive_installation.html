<!DOCTYPE html
        PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Installation :: Getting Started (ProActive Scheduler
        Toolbox)</title>
    <link rel="stylesheet" href="docstyle.css" type="text/css">
    <meta name="generator" content="DocBook XSL Stylesheets V1.52.2">
    <meta name="description"
          content="Installation of ProActive&#xA;Scheduler Toolbox.">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <script language="JavaScript" src="docscripts.js"></script>
</head>
<body><a name="top_of_page"></a>

<p style="font-size:1px;">&nbsp;</p>
<table class="nav" summary="Navigation aid" border="0" width="100%" cellpadding="0" cellspacing="0">
    <tr>
        <td valign="baseline"><b>ProActive Scheduler Toolbox</b></td>
        <td valign="baseline" align="right"><a href="proactive_overview.html"><img src="b_prev.gif" border="0" align="bottom"
                                                                        alt="What is ProActive Scheduler Toolbox?"></a>&nbsp;&nbsp;&nbsp;<a
                href="proactive_startup.html"><img src="b_next.gif" border="0" align="bottom" alt="Starting And Connecting"></a></td>
    </tr>
</table>
<table class="feedbacklinktop" border="0" width="100%" cellpadding="0" cellspacing="0">
    <tr>
        <td>&nbsp;</td>
        <td align="right">
            <script type="text/javascript" language="JavaScript">
                writeDocFeedbackSurveyLink();
            </script>
            &nbsp;
        </td>
    </tr>
</table>

<h2 class="title">Installation</h2>
<table border="0" cellpadding="4" cellspacing="0" class="pagenavtable">
    <tr>
        <th>On this page&#8230;</th>
    </tr>
    <tr>
        <td><p><a href="proactive_installation.html#installation-1">Introduction</a></p>

            <p><a href="proactive_installation.html#installation-2">Downloading and Installing ProActive Scheduler</a></p>

            <p><a href="proactive_installation.html#installation-3">Scheduler Configuration For Matlab</a></p>

            <p><a href="proactive_installation.html#installation-4">Configuration of Remote Workers for Matlab</a>
            </p>

            </td>
    </tr>
</table>
<a name="installation-1"></a>

<h3 class="title">Introduction</h3>
<p>A typical deployment of ProActive Scheduler with Matlab can be seen on the diagram below :</p>
<img src="SchedulerMatlab.png" alt="ProActive Scheduler With Matlab">
<ul type="disc">
    <li><p>The local Matlab session will connect to the ProActive Scheduler.</p></li>
    <li><p>The local user will submit a function <b>foo</b> to call with a set of parameters.</p></li>
    <li><p>The Scheduler will select among all its resources, those suited to the job.</p></li>
    <li><p>A Matlab engine will be started on each selected resource</p></li>
    <li><p>Each <b>foo(k)</b> will be executed on remote engines</p></li>
    <li><p>Results will be forwarded back to the user</p></li>
</ul>


</p>
<a name="installation-2"></a>

<p class="pagenavlink">
    <script language="Javascript">updateSectionId("installation-2");</script>
    <script language="Javascript">addTopOfPageButtons();</script>
    <a href="#top_of_page">Back to Top</a></p>
<h3 class="title">Downloading and Installing ProActive Scheduler</h3>

<p>ProActive Scheduler Toolbox can be downloaded from :</p>

<p><a href="http://www.activeeon.com/community-downloads">http://www.activeeon.com/community-downloads</a></p>

<p>The package which must be downloaded is called <b>ProActive Scheduling</b><br>After downloading the package unzip it in a directory e.g. D:\Scheduling</p>

<p>IMPORTANT: According to your deployment infrastructure, ProActive Scheduler must be installed on :</p>
<ol>
    <li><p>The host which will launch the <b>Scheduler</b>.</p></li>
    <li><p>Each <b>worker host</b> used by the Scheduler.</p></li>
    <li><p>Each <b>client host</b> which will connect to the Scheduler to submit matlab functions.</p></li>
</ol>
<p>The prerequisite for using ProActive is a <b>Java Virtual Machine</b>. On the above list, machines of group 1 and 2 must have a Java Virtual Machine installed and available on the Path of either cmd.exe for Windows or sh for linux. For many ProActive features it is also necessary to define the environment variable JAVA_HOME to the installation directory of the Java Virtual Machine.</p>

<p>If a worker host is running on Windows 64bits, a patch must be installed on top of ProActive installation, refer to <a href="https://bugs.activeeon.com/browse/SCHEDULING-1025">SCHEDULING-1025</a> for details.</p>

<p>Complete configuration and installation of ProActive Scheduler is beyond the scope of this help, for more information, refer to:</p>

<p><a href="http://proactive.inria.fr/release-doc/Scheduling/multiple_html/index.html">ProActive Scheduler Manual</a></p>

<p>On each <b>client host</b>, on the matlab prompt add the path to ProActive Scheduler Toolbox (the folder SCHEDULING/extensions/matlab/toolbox):</p>
<pre>addpath('D:\Scheduling\extensions\matlab\toolbox');</pre>


<a name="installation-3"></a>
<p class="pagenavlink">
    <script language="Javascript">updateSectionId("installation-3");</script>
    <script language="Javascript">addTopOfPageButtons();</script>
    <a href="#top_of_page">Back to Top</a></p>
<h3 class="title">Scheduler Configuration For Matlab</h3>

<p>On the host which will start the <b>Scheduler</b>, inside the file SCHEDULING/config/rm/settings.ini, the following settings must be entered:</p>

<pre>pa.rm.select.script.timeout=60000</pre>

<pre>pa.rm.selection.maxthreadnumber=1</pre>

<a name="installation-4"></a>
<p class="pagenavlink">
    <script language="Javascript">updateSectionId("installation-4");</script>
    <script language="Javascript">addTopOfPageButtons();</script>
    <a href="#top_of_page">Back to Top</a></p>
<h3 class="title">Configuration of Remote Workers for Matlab</h3>

<p>On each <b>worker host</b> that will be used to compute remotely matlab functions, a specific configuration file must be written to tell the scheduler where to find a matlab installation. The configuration file is called <b>MatlabConfiguration.xml</b>, and is located in the folder <b>SCHEDULING/extensions/matlab/config/worker</b> for each <b>Worker Hosts</b></p>

<p>By default, the <b>SCHEDULING/extensions/matlab/config/worker</b> folder only contains two template files one for Linux and one for Windows called <b>MatlabConfigurationTemplateUnix.xml</b> and <b>MatlabConfigurationTemplateWindows.xml</b>, one of this template must be edited and renamed into MatlabConfiguration.xml to setup the configuration for the current <b>Worker Host</b></p>
<p>For example, here is MatlabConfigurationTemplateWindows.xml</p>

<pre>&lt;MatlabInstallations&gt;
    &lt;installation&gt;
        &lt;version&gt;7.9&lt;/version&gt;
        &lt;home&gt;C:\Program Files\MATLAB\R2009b&lt;/home&gt;
        &lt;libdir&gt;bin\win32&lt;/libdir&gt;
        &lt;extdir&gt;&lt;/extdir&gt;
        &lt;bindir&gt;bin&lt;/bindir&gt;
        &lt;command&gt;matlab.exe&lt;/command&gt;
        &lt;ptolemydir&gt;dist/lib/7.9/bin/win32&lt;/ptolemydir&gt;
    &lt;/installation&gt;
&lt;/MatlabInstallations&gt;</pre>

<p>Here is an explanation of tags used by this file:</p>
<ul type="disc">
    <li><p><b>version:</b> The matlab version installed in numeric format.</p></li>
    <li><p><b>home:</b> Full path to matlab home directory.</p></li>
    <li><p><b>libdir:</b> relative path (from homedir) to matlab dlls (bin\win32 for Windows 32, bin\win64 for Windows64.</p></li>
    <li><p><b>extdir:</b> not used on Windows see contents of MatlabConfigurationTemplateLinux.xml for Linux hosts.</p></li>
    <li><p><b>bindir:</b> relative path to the directory where to find the matlab executable.</p></li>
    <li><p><b>command:</b> matlab executable name.</p></li>
    <li><p><b>ptolemydir:</b> relative path (from ProActive Scheduler installation directory), where to find the native libraries for this Operating System and this Matlab version. The relative path is always dist/lib/$version/bin/$os, where:</p>
        <ul type="circle">
            <li><p>$version is matlab version numeric version</p></li>
            <li><p>$os is one of the following:</p>
                <ul type="circle">
                    <li><p>win32 for Windows 32bits</p></li>
                    <li><p>win64 for Windows 64bits</p></li>
                    <li><p>glnxa64 for Linux 64bits</p></li>
                </ul>
            </li>

        </ul>

    </li>
</ul>
<p>The file supports multiple matlab configurations on the same Host (i.e. multiple matlab versions), and ProActive Scheduler Toolbox allows to select specific matlab versions for a given job dynamically. There is although an important limitation on Windows: Matlab engine on windows works as a registered COM service. The registration as a COM service works for only one installation instance(version) of Matlab. If other matlab engines that the one registered try to start, it will fail. There exists a workaround to this issue, it is possible to run the command "matlab /regserver" to register a specific version of Matlab as the current matlab engine, but Administrators or Super Users only can run the command. In case of multiple Matlab configurations specified on Windows, ProActive Scheduler Toolbox will try to run the "matlab /regserver", but the scheduler will have to be a Super User account for this to work.</p>
<p>To resume the problem on Windows, you can either:</p>
<ul type="disc">
    <li><p>Have one single instance of Matlab installed on a given host.</p></li>
    <li><p>Have multiple instances of Matlab installed. Run "matlab /regserver" from an Administrator account on a specific matlab version and configure that version in MatlabConfiguration.xml.</p></li>
    <li><p>Have multiple instances of Matlab installed and let ProActive Scheduler run on a Administrator or Power User account (matlab /regserver commands will be run dynamically by ProActive Scheduler Toolbox).</p></li>
</ul>




<a name="bottom_of_page"></a>

<p class="pagenavlink">
    <script language="Javascript">updateSectionId("bottom_of_page");</script>
    <script language="Javascript">addTopOfPageButtons();</script>
    <a href="#top_of_page">Back to Top</a></p>
<table class="feedbacklinkbot" border="0" width="100%" cellpadding="0" cellspacing="0">
    <tr>
        <td>&nbsp;</td>
        <td align="right">
            <script type="text/javascript" language="JavaScript">
                writeDocFeedbackSurveyLink();
            </script>
            &nbsp;
        </td>
    </tr>
</table>
<p></p>
<table class="nav" summary="Navigation aid" border="0" width="100%" cellpadding="0" cellspacing="0">
    <tr valign="top">
        <td align="left" width="20"><a href="proactive_overview.html"><img src="b_prev.gif" border="0" align="bottom"
                                                                alt="What is ProActive Scheduler Toolbox?"></a>&nbsp;</td>
        <td align="left">What is ProActive Scheduler Toolbox?</td>
        <td>&nbsp;</td>
        <td align="right">Starting And Connecting</td>
        <td align="right" width="20"><a href="proactive_startup.html"><img src="b_next.gif" border="0" align="bottom"
                                                                   alt="Starting And Connecting"></a></td>
    </tr>
</table>
<br>

<p class="copy">&copy; Copyright (C) 1997-2011 INRIA/University of Nice-Sophia Antipolis/ActiveEon
    <tt class="minicdot">&#149;</tt> <a href="license.txt">Terms of Use</a></p>
<!-- Last updated: Tue Jul 31 19:44:58 EDT 2007--></body>
</html>
