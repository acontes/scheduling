<?xml version="1.0" encoding="UTF-8"?>
<job name="job_PI" priority="normal" cancelOnError="true" type="TASKSFLOW">
	<description>
		Computing PI according to MonteCarlo method.
		This job will launch 6 MonteCarlo task, then 2 tasks will average 3 results each.
		So a last task will average the 2 last result.
		Finally this last task will be the final result.
	</description>
	<tasks>
		<task name="Computation1">
			<!-- Task human description -->
			<description>Compute Pi and return it</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarlo">
					<initParameters>
						<parameter name="steps" value="20" />
						<parameter name="iterations" value="100000000" />
					</initParameters>
				</javaProcess>
			</process>
		</task>
		<task name="Computation2">
			<!-- Task human description -->
			<description>Compute Pi and return it</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarlo">
					<initParameters>
						<parameter name="steps" value="20" />
						<parameter name="iterations" value="100000000" />
					</initParameters>
				</javaProcess>
			</process>
		</task>
		<task name="Computation3">
			<!-- Task human description -->
			<description>Compute Pi and return it</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarlo">
					<initParameters>
						<parameter name="steps" value="20" />
						<parameter name="iterations" value="100000000" />
					</initParameters>
				</javaProcess>
			</process>
		</task>
		<task name="Computation4">
			<!-- Task human description -->
			<description>Compute Pi and return it</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarlo">
					<initParameters>
						<parameter name="steps" value="20" />
						<parameter name="iterations" value="100000000" />
					</initParameters>
				</javaProcess>
			</process>
		</task>
		<task name="Computation5">
			<!-- Task human description -->
			<description>Compute Pi and return it</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarlo">
					<initParameters>
						<parameter name="steps" value="20" />
						<parameter name="iterations" value="100000000" />
					</initParameters>
				</javaProcess>
			</process>
		</task>
		<task name="Computation6">
			<!-- Task human description -->
			<description>Compute Pi and return it</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarlo">
					<initParameters>
						<parameter name="steps" value="20" />
						<parameter name="iterations" value="100000000" />
					</initParameters>
				</javaProcess>
			</process>
		</task>
		<task name="Average1" depends="Computation1 Computation2 Computation3">
			<!-- Task human description -->
			<description>Do the average of 1 2 3 and return it.</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarloAverage" />
			</process>
		</task>
		<task name="Average2" depends="Computation4 Computation5 Computation6">
			<!-- Task human description -->
			<description>Do the average of 4 5 6 and return it.</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarloAverage" />
			</process>
		</task>
		<task name="LastAverage" depends="Average1 Average2"  finalTask="true">
			<!-- Task human description -->
			<description>Do the average of average 1 2 and return it.</description>
			<process>
				<javaProcess class="org.objectweb.proactive.extra.scheduler.examples.MonteCarloAverage" />
			</process>
		</task>
	</tasks>
</job>
