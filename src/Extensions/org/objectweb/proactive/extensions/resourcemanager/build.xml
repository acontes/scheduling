<?xml version="1.0" encoding="UTF-8"?>
<project name="An Resource Manager for ProActive" basedir="../../../../../../../compile/">

	<import file="${basedir}/build.xml" />
	<target name="compile" depends="core, stubGenerator, -compile"/>

	<target name="-compile">
		<if>
			<bool>
				<available classname="javax.script.Bindings" classpathref="compile.libs" />
			</bool>
			<compile_extension module="resourcemanager" />
				<java classname="${stubgenerator.class}" fork="true">
					<classpath refid="project.classpath" />
					<arg line="-srcDir ${cl.extensions.dir} -pkg org.objectweb.proactive.extensions.resourcemanager" />
				</java>
				<else>
					<echo>Scheduler build requires jsr233, DISABLED</echo>
					<echo>Use JDK 6 or add jsr233 jars file into ${lib.dir}</echo>
				</else>			
		</if>
	</target>
</project>
