<?xml version="1.0" encoding="UTF-8"?>
<project name="A Scheduler for ProActive" basedir="../../../../../../../compile/">

	<import file="${basedir}/build.xml" />
	<target name="compile" depends="core, stubGenerator,-compile"/>
	<target name="-compile">
		<if>
			<bool>
				<or>
					<contains string="${java.version}" substring="1.6"/>
					<contains string="${java.version}" substring="1.7"/>
					<and>
						<available file="${lib.dir}/script-api.jar" />
						<available file="${lib.dir}/script-js.jar" />
						<available file="${lib.dir}/js.jar" />
					</and>
				</or>
			</bool>
			<compile_extension module="scheduler" />
			<else>
			<echo>Scheduler build requires jsr233, DISABLED</echo>
			<echo>Use JDK 6 or add jsr233 jars file into ${lib.dir}</echo>
			<!--<java classname="${stubgenerator.class}" fork="true">
				<classpath refid="project.classpath" />
				<arg line="-srcDir ${cl.extra.dir} -pkg org.objectweb.proactive.extensions.scheduler" />
			</java>-->
			</else>
		</if>
	</target>
</project>
