<?xml version="1.0" encoding="UTF-8"?>
<GCMDeployment 
	xmlns="urn:gcm:deployment:1.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="urn:gcm:deployment:1.0 /home/glaurent/workspace/proactive_trunk/src/Extra/org/objectweb/proactive/extra/gcmdeployment/schema/ExtensionSchemas.xsd	">

<!-- http://proactive.inria.fr/schemas/gcm/1.0/ExtensionSchemas.xsd -->
	<environment>
		<descriptorVariable name="USERNAME" value="jsmith" />
	</environment>

	<resources>
		<bridge refid="SEA" />

		<group refid="LAN_INRIA">
			<host refid="INRIA_x86_64" />
		</group>
	</resources>

	<infrastructure>
		<hosts>
			<host id="INRIA_x86_64" os="unix" hostCapacity="4" vmCapacity="2">
				<homeDirectory base="root" relpath="/user/${USERNAME}/home" />
				<tool id="java" path="/usr/java/j2sdk/bin/java" />
				<tool id="proactive" path="$HOME/myApps/ProActive_3.2.1" />
			</host>
		</hosts>

		<groups>


			<sshGroup id="LAN_INRIA" hostList="node2 node4 host[10-20]" username="${USERNAME}"
				commandPath="/usr/local/bin/ssh">
			</sshGroup>

			<pbsGroup id="pbsgroup1" queue="queue01@pbsserver" jobName="demoJob"
				commandPath="/usr/local/bin/pbs">
				<resources nodes="50"/>
			</pbsGroup>

			<prunGroup id="prungroup1" queue="prunqueue">
				<hostList>prunhost[00-10]</hostList>
				<processorPerNode>2</processorPerNode>
			</prunGroup>

			<gridEngineGroup id="gridEngineGroup">
				<hostsNumber>10</hostsNumber>
				<wallTime>500000</wallTime>
				<directory>"jobs/job_datas</directory>
				<stderr>jobs/jobtrace_err.txt</stderr>
			</gridEngineGroup>

			<gLiteGroup id="gliteGroup2" virtualOrganisation="proactive" JDLFileName="job.jdl" jobType="normal"
				retryCount="3">
				<requirements>
					other.GlueCEUniqueID == "grid10.lal.in2p3.fr:2119/jobmanager-pbs-sdj"
				</requirements>
				<rank>-other.GlueCEStateEstimatedResponseTime</rank>
				<stdout>stdout.log</stdout>
				<stderr>error.log</stderr>
				<configFile>scripts/unix/proactiveVO/proactiveVO.conf</configFile>
				<JDLFilePath>/users/dsksi/emathias/JDL</JDLFilePath>
				<JDLRemoteFilePath>/users/dsksi/emathias/JDL</JDLRemoteFilePath>
				<inputSandbox>
					${PROACTIVE_HOME}/dist/lib/classes.jar ${PROACTIVE_HOME}/lib/glite-wms-jdlj.jar
					${PROACTIVE_HOME}/scripts/unix/cluster/gLiteStartRuntime.sh
				</inputSandbox>
				<outputSandbox>error.log stdout.log</outputSandbox>
			</gLiteGroup>

			<gLiteGroup id="gliteGroup" virtualOrganisation="proactive" jobType="normal"
				retryCount="3">
				<rank>-other.GlueCEStateEstimatedResponseTime</rank>
				<stdout>stdout.log</stdout>
				<stderr>error.log</stderr>
				<configFile>scripts/unix/proactiveVO/proactiveVO.conf</configFile>
			</gLiteGroup>

			<globusGroup hostname="globus_frontend" id="globusgroup">
				<count>8</count>
				<maxTime>120</maxTime>
				<stderr>${GLOBUS_USER_HOME}/error.txt</stderr>
			</globusGroup>


			<oarGroup bookedNodesAccess="ssh" id="oargroup" interactive="true">
				<scriptPath base="proactive" relpath="scripts/unix/cluster/oarStartRuntime.sh" />
				<resources nodes="2" cpu="4" />
				<stderr>trace/err.log</stderr>
			</oarGroup>

			<oarshGroup id="oarshgroup" hostList="host1 host2" jobId="42">
			</oarshGroup>

			<lsfGroup id="lsfgroup">
				<scriptPath base="proactive" relpath="scripts/unix/cluster/startRuntime.sh" />
				<processorsNumber>2</processorsNumber>
				<resourceRequirement>value="span[ptile=2]"</resourceRequirement>
			</lsfGroup>

			<arcGroup id="arcgroup" jobName="arcjob">
				<scriptPath base="root" relpath="/usr/local/arc/scripts/unix/cluster/startRuntime.sh" />
				<stderr>trace/err.log</stderr>
				<maxTime>10000000</maxTime>
			</arcGroup>

			<furaGroup id="furagroup" jobName="furajob">
				<scriptPath base="root" relpath="/usr/local/fura/scripts/jobscript.sh" />
				<description>Fura job descriptor sample</description>
				<stdout>trace/results.log</stdout>
				<stderr>trace/err.log</stderr>
				<maxTime>15000000</maxTime>
			</furaGroup>

			<loadLevelerGroup id="loadlevelergroup">
				<scriptPath base="root" relpath="/usr/local/loadleveler/scripts/jobscript.sh" />
				<directory>datadir/jobdata1</directory>
				<stdout>trace/results.log</stdout>
				<stderr>trace/err.log</stderr>
				<maxTime>15000000</maxTime>
				<arguments>
					<arg>arg1</arg>
					<arg>25</arg>
					<arg>foo bar</arg>
				</arguments>
				<nbTasks>10</nbTasks>
				<tasksPerHost>1</tasksPerHost>
			</loadLevelerGroup>

			<gridbusGroup id="gridbusgroup">
				<scriptPath base="root" relpath="./calc" />
				<arguments>
					<arg>arg1</arg>
					<arg>arg2</arg>
				</arguments>
			</gridbusGroup>


			<cgspGroup id="cgspgroup" hostname="cgsp.inria.fr">
				<scriptPath base="root" relpath="./calc" />
				<count>50</count>
				<directory>datadir/jobdata1</directory>
				<stdout>trace/results.log</stdout>
				<stderr>trace/err.log</stderr>
				
			</cgspGroup>

		</groups>

		<bridges>
			<sshBridge id="SEA" hostname="sea.inria.fr" username="${USERNAME}" commandPath="" />
			
			<oarshBridge id="oarbridge" hostname="oargrid.inria.fr" jobId="12" />
			
		</bridges>
	</infrastructure>




</GCMDeployment>
