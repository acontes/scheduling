<?xml version="1.0" encoding="UTF-8"?>
<GCMApplication
	xmlns="urn:gcm:application:1.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="urn:gcm:application:1.0 http://proactive.inria.fr/schemas/gcm/1.0/ApplicationDescriptorSchema.xsd">

	<environment>
		<javaPropertyVariable name="proactive.home"/>
		<javaPropertyVariable name="java.home"/>

		<descriptorDefaultVariable name="deploymentDescriptor" value="../../_CONFIG/localhost/4x1.xml" />		
		<descriptorDefaultVariable name="jvmargDefinedByTest" value=" "/>
	</environment>
	
	<application>
		
		<proactive relpath="${proactive.home}" base="root">
			<configuration>
				<java base="root" relpath="${java.home}/bin/java" />
				<jvmarg
					value="-Dproactive.test=true ${jvmargDefinedByTest} -Dclover.initstring=${proactive.home}/compile/ProActiveCoverage.db" />
				<proactiveClasspath type="append">
					<pathElement base="proactive"
						relpath="classes/Tests" />
					<pathElement base="proactive"
						relpath="dist/lib/clover.jar" />
				</proactiveClasspath>
			</configuration>
			
			<virtualNode id="Workers" capacity="2">
				<technicalServices>
					<class name="org.objectweb.proactive.core.body.ft.service.FaultToleranceTechnicalService">
						<property name="global" value="rmi://localhost:1100/FTServer" />
						<property name="ttc" value="5" />
						<property name="protocol" value="pml" />
					</class>
				</technicalServices>
			</virtualNode>

			<virtualNode id="Failed" capacity="1">
				<technicalServices>
					<class name="org.objectweb.proactive.core.body.ft.service.FaultToleranceTechnicalService">
						<property name="global" value="rmi://localhost:1100/FTServer" />
						<property name="ttc" value="5" />
						<property name="protocol" value="pml" />
						<property name="resource" value="rmi://localhost:1100/FTServer" />
					</class>
				</technicalServices>
			</virtualNode>

		</proactive>
	</application>

	<resources>	
		<nodeProvider id="remote">
			<file path="${deploymentDescriptor}"/>
		</nodeProvider>
	</resources>
</GCMApplication>
