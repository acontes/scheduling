import org.objectweb.proactive.Service;
import org.objectweb.proactive.RunActive;
import org.objectweb.proactive.InitActive;
import org.objectweb.proactive.Body;
import org.objectweb.proactive.api.PAActiveObject;

public class CustomActivity implements InitActive, RunActive {
	private String myName;
	public String getName() {
		return myName;
	}
	// -- implements InitActive
	public void initActivity(Body body) {
		myName = body.getName();
	}
	// -- implements RunActive for serving request in a LIFO fashion
	public void runActivity(Body body) {
		Service service = new Service(body);
		while (body.isActive()) {
			//LIFO order
			service.blockingServeYoungest();
		}
	}
	public static void main(String[] args) throws Exception {
		CustomActivity a = (CustomActivity) 
							PAActiveObject.newActive(CustomActivity.class.getName(),
							null);
		String call1 = a.getName();
	}
  }