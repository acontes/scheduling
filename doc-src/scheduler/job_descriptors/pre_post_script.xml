<?xml version="1.0" encoding="UTF-8"?>
<job xmlns="urn:proactive:jobdescriptor:0.91" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="urn:proactive:jobdescriptor:0.91 http://proactive.inria.fr/schemas/jobdescriptor/0.91/schedulerjob.xsd"
	id="job_nativ" priority="normal" cancelOnException="true"
	logFile="${EXEC_PATH}/nativTask.log">
	<description>Will execute 1 native C tasks</description>
	<variables>
		<variable name="EXEC_PATH" value="[working_dir]"/>			
	</variables>
<taskFlow>
		<task id="task1" preciousResult="true">
			<description>Will display 10 dots every 1s</description>			
			<pre>
				<script>
					<file path="${EXEC_PATH}/remove_files.js">
						<arguments>
							<argument value="${EXEC_PATH}/1.tmp" />								
						</arguments>					
					</file>
				</script>
			</pre>				
			<nativeExecutable>			
				<staticCommand value="${EXEC_PATH}/nativTask">
					<arguments>
						<argument value="1"/>
					</arguments>
				</staticCommand>
			</nativeExecutable>
			<post>
				<script>
					<file path="${EXEC_PATH}/remove_files.js">
						<arguments>
							<argument value="${EXEC_PATH}/2.tmp" />								
						</arguments>					
					</file>
				</script>
			</post>				
		</task>
	</taskFlow>
</job>