<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/css" href="viewDocbook.css"?><chapter id="Installation">
  <title>ProActive Installation</title>

  <para>ProActive is available for <ulink
  url="http://proactive.inria.fr/download_proactive_latest.htm">download</ulink>
  under a <ulink url="http://www.gnu.org/copyleft/lesser.txt">LGPL license</ulink>. ProActive requires <ulink
  url="http://java.sun.com/j2se/1.5/">JDK 1.5</ulink> or later to be installed on your computer. Please note that ProActive will NOT run with any version prior to 1.5 since some features introduced in JDK 1.5 are essential.</para>

  <sect1>
    <title>Installation Overview</title>

    <sect2>
      <title>To Test ProActive With The Examples</title>

      <itemizedlist>
        <listitem>
          <para>Download and expand the ProActive archive</para>
        </listitem>

        <listitem>
          <para>Set the <literal>JAVA_HOME</literal> variable to the Java distribution you want to use</para>
        </listitem>

        <listitem>
          <para>Launch the scripts located in <literal>ProActive/scripts/unix
          </literal> or <literal>ProActive/scripts/windows</literal></para>
        </listitem>
      </itemizedlist>
    </sect2>

    <sect2>
      <title>To Develop With ProActive</title>

      <itemizedlist>
        <listitem>
          <para>Download and unzip the ProActive archive</para>
        </listitem>

        <listitem>
          <indexterm>
            <primary>CLASSPATH</primary>

            <secondary>configuration</secondary>
          </indexterm>

          <para>Include in your <literal>CLASSPATH</literal> the 
          	ProActive jar file <literal>ProActive/dist/ProActive/ProActive.jar</literal>
          		along with <literal>ProActive/lib/javassist.jar</literal>,
          		<literal>ProActive/lib/log4j.jar</literal>, 
          		<literal>ProActive/lib/xercesImpl.jar</literal>, 
          		<literal>ProActive/lib/fractal.jar</literal>,  
          		and <literal>ProActive/lib/bouncycastle.jar</literal></para>
        </listitem>

        <listitem>
          <para>Depending on your project needs, you might need to include other libraries
           located in the <literal>ProActive/lib </literal>directory.</para>
        </listitem>

        <listitem>
          <para>Launch the JVM with a <ulink
          url="http://java.sun.com/j2se/1.5/docs/guide/security/permissions.html"> security policy
          file</ulink> using the option
          <literal> -Djava.security.policy=pathToFile</literal>. A basic policy file
          can be found at <literal>ProActive/scripts/proactive.java.policy</literal>. You can also specify a 
          <ulink url="http://logging.apache.org/log4j/docs/manual.html">log4j configuration
          file</ulink> with the property <literal>-Dlog4j.configuration=file:pathToFile</literal>.
          If a configuration file is not specified a default logger that logs on the console will be created.</para>
        </listitem>
      </itemizedlist>

      <para>Below the different steps are described in more detail.</para>
    </sect2>
    
  </sect1>

  <sect1>
    <title>Detailed Installation Steps</title>

    <sect2>
    	<title>Download And Expand The Archive</title>
    	<para>You can download the archive file (a standard zip file) containing 
    	ProActive from the <ulink url="http://proactive.inria.fr/download_proactive_latest.htm">
    	 download section </ulink> of the ProActive home page. You will be asked to accept 
    	 the license agreement and provide a few details including your email address.
    	 Within a few minutes you will  receive an email containing 
    	 a password and an URL where you will be able to download the latest release of ProActive.</para>
    	 <para>Unzip the archive using your favorite ZIP program, such as 
    	 <ulink url="http://www.winzip.com/">Winzip</ulink> under Windows or 
    	 the <ulink url="http://www.info-zip.org/pub/infozip/"> unzip </ulink>
    	 command-line utility under most Linux/Unix systems. 
    	 Unzipping the archive creates a ProActive directory and all the files contained in 
    	 the archive go into this directory and its subdirectories.</para><para>Here is a quick 
    	 overview of the directory structure of the archive:</para><table frame="all">
      <title>ProActive.zip contents</title>

      <tgroup cols="2">
        <colspec colname="c1" colwidth="35*" />

        <colspec colname="c2" colwidth="65*" />

        <tbody>
          <row>
            <entry><para><emphasis role="bold">Directory or File</emphasis></para></entry>

            <entry><para><emphasis role="bold">Description</emphasis></para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>ProActive.jar</literal></emphasis></para></entry>

            <entry><para>ProActive bytecode that you need to include in the
            <literal>CLASSPATH</literal> in order to use ProActive</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>ProActive_examples.jar</literal></emphasis></para></entry>

            <entry><para>The bytecode and resources of all examples included with ProActive.
             This jar file needs to be included in the <literal>CLASSPATH</literal> only when trying
              to run the examples. All examples rely on ProActive and therefore the <literal>ProActive.jar</literal>
               file must be included in the <literal>CLASSPATH</literal> as well. This is done automatically by
                the scripts driving the examples. The source code is also included in the
                 <literal>src</literal> directory (see below)</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>ic2d.jar</literal></emphasis></para></entry>

            <entry><para>The bytecode and resources of IC2D. This jar file needs to be included in
             the <literal>CLASSPATH</literal> only when trying to run the application IC2D.
              IC2D relies on ProActive and therefore <literal>theProActive.jar</literal> file must be
               included in the <literal>CLASSPATH</literal>. This is done automatically by the scripts
                launching the application. The source code is also included in the <literal>src</literal> directory (see below)</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>lib</literal></emphasis></para></entry>

            <entry><para>The external libraries used by
            ProActive</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>docs</literal></emphasis></para></entry>

            <entry><para>ProActive documentation including the full API
            doc</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>scripts/unix</literal></emphasis></para></entry>

            <entry><para>Unix sh scripts for running the examples</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>scripts/windows</literal></emphasis></para></entry>

            <entry><para>Windows bat batch files for running the examples</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>src</literal></emphasis></para></entry>

            <entry><para>For source version only, the full source code of
            ProActive</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>compile</literal></emphasis></para></entry>

            <entry><para>For source version only, the scripts to compile
            ProActive using Ant.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table></sect2>

    

    


    <sect2><title>Set the <literal>CLASSPATH</literal> for using ProActive to write applications</title><indexterm significance="preferred">
      <primary>CLASSPATH</primary>

      <secondary>to run ProActive</secondary>
    </indexterm><para>In order to use ProActive to write your
    application you need to place in your <literal>CLASSPATH</literal> the
    following jar files :</para>
    <itemizedlist>
      <listitem>
        <para><literal>lib/ProActive.jar</literal> - main library</para>
      </listitem>

      <listitem>
        <para><literal>lib/javassist.jar</literal> - used to handle bytecode manipulation.</para>
      </listitem>

      <listitem>
        <indexterm>
          <primary>Log4j</primary>

          <secondary>command argument</secondary>
        </indexterm>

        <para><literal>lib/log4j.jar</literal> - <ulink url="http://logging.apache.org/log4j/docs/manual.html">logging</ulink>
          mechanism used in ProActive.</para>
      </listitem>

      <listitem>
        <para><literal>lib/xercesImpl.jar</literal>
         - used to parse and validate XML
        files, like deployment descriptors, configuration files and component
        files (see <xref linkend="XML_Descriptors" />, <xref linkend="Configuration" />, and <xref linkend="intro" />).</para>
      </listitem>

      <listitem>
        <para><literal>lib/fractal.jar</literal>
        - component model used for ProActive Components (see
        <xref linkend="intro" />).</para>
      </listitem>

      <listitem>
        <para><literal>lib/bouncycastle.jar</literal> - used by the ProActive security framework (see <xref linkend="Security" />).</para>
      </listitem>
    </itemizedlist><para>You do not need to modify your <literal>CLASSPATH</literal> permanently if you
    include the entries above using a Java IDE or a shell script.</para>
     <para>Set the <literal>CLASSPATH</literal> as follow, putting on one line:</para>

    <para>Under linux:</para>

    <para><screen>export CLASSPATH=.:./ProActive_examples.jar:./ProActive.jar:./lib/bcel.jar:\
./lib/asm.jar:./lib/log4j.jar:./lib/xercesImpl.jar:\
./lib/components/fractal.jar:./lib/bouncycastle.jar</screen></para>

    <para>Under windows:</para>

    <para><screen>set CLASSPATH=.;.\ProActive_examples.jar;.\ProActive.jar;.\lib\bcel.jar;\
.\lib\asm.jar;.\lib\log4j.jar;.\lib\xercesImpl.jar;\
.\lib\components\fractal.jar;.\lib\bouncycastle.jar</screen></para>
     
    
    <para>In addition to the jar files above you may want to add the following
    jar files. None of them are used directly by the core functionalities of
    ProActive but only in part of the library. They are needed to compile all
    the code but they are not needed at runtime if those specific
    functionalities are not used.</para>
    <itemizedlist>
      <listitem>
        <para><literal>ganymed-ssh2-build210.jar</literal> - used when tunneling with rmissh.</para>
      </listitem>

      <listitem>
        <para><literal>cryptix.jar, cog-jglobus-1.2.jar, puretls.jar, cryptix32.jar, cryptix-asn1.jar, cog-ogce.jar, cog-jglobus.jar
        </literal> - used to interface with Globus</para>
      </listitem>

      <listitem>
        <para><literal>fractal.jar, fractal-gui.jar, fractal-swing.jar, fractal-adl.jar</literal> - used by the the Fractal components</para>
      </listitem>

      <listitem>
        <para> <literal>commons-discovery.jar, saaj-api.jar, commons-logging.jar, jaxrpc.jar, activation.jar, wsdl4j.jar, mail.jar,servlet-api.jar,
				xml-apis.jar, axis.jar, soap.jar</literal> - used by the Web Services features </para>
      </listitem>

      <listitem>
        <para><literal>bcel-5.1.jar, ibis-util-1.0.jar, colobus-0.1.jar,
         ibis-connect-1.0.jar, ibis-1.4.jar, bcel-5.1-fixes-1.0.jar</literal> - used by Ibis if
        configured as communication protocol</para>
      </listitem>

      <listitem>
        <para><literal>client.jar, ajo.jar, SystemDefaults.txt, njs_client.jar, scriptPlugin.jar, jh.jar</literal> 
        - used when deploying to a UNICORE site.</para>
      </listitem>

      <listitem>
        <para><literal>classad.jar, glite-wms-jdlj.jar</literal>  - used when deploying on gLite sites.</para>
      </listitem>
    </itemizedlist>
    </sect2>
    <sect2><title id="Create_Java_Policy">Create A <literal>java.policy</literal> File To Set
    Permissions</title><para>See <ulink url="http://java.sun.com/j2se/1.3/docs/guide/security/permissions.html">Permissions
    in the JavaTM 2 SDK</ulink> to learn more about Java permissions. The
    option <literal>-Djava.security.policy=pathToFile</literal> will specify which policy file to
    use within ProActive. As a first approximation, you can create a simple
    policy file granting all permissions:</para>
    <para><screen>grant {
    	permission java.security.AllPermission;
	};        
	</screen></para><note><para>
 	If you use the scripts provided with the distribution to run the
 	examples an existing policy file named
 	<literal>proactive.java.policy</literal>
 	will be used by default.
	</para></note></sect2>
    <sect2><title>Create A log4j Configuration File</title><indexterm>
      <primary>Log4j</primary>

      <secondary>configuration</secondary>
    </indexterm><example>
      <title>A simple proactive-log4j file</title>

      <programlisting><textobject>
          <textdata fileref="../../scripts/proactive-log4j" />
        </textobject></programlisting>
    </example><note>
      <para>If you use the scripts provided with the distribution to run the
      examples an existing log4j file named <literal>proactive-log4j</literal>
      will be used by default.</para>
    </note></sect2>
    <sect2><title>Run A Few Examples For Testing</title><para>You can try to run the test applications provided with ProActive.
     Each example comes with a script to launch the application. Depending on your
      operating system, the script you need to launch is located either in<literal> ProActive/scripts/unix </literal> or
    <literal>ProActive/scripts/windows</literal>. The source code of all the examples can be found in the directory <literal>ProActive/src/Examples/org/objectweb/proactive/examples/</literal>.</para>
    	<sect3><title>Local Example 2: Reader/Writer</title><para>This example is the ProActive version of the Readers/Writers
      canonical problem. To illustrate the ease-of-use of the ProActive model,
      different synchronization policies can be applied without even stopping the application. This example is based on a easy to use Swing
      GUI.</para><itemizedlist>
        <listitem>
          <para>script : <literal>readers.sh</literal> or
          <literal>readers.bat</literal></para>
        </listitem>

        <listitem>
          <para>source : <literal>examples/readers</literal></para>
        </listitem>
      </itemizedlist></sect3>
    	<sect3><title>Local Example 3: The Dining Philosophers</title><para>This example is one possible implementation of the well-known Dining Philosophers synchronization problem. This
      example is based on a easy to use Swing GUI.</para><itemizedlist>
        <listitem>
          <para>script : <literal>philosophers.sh</literal> or
          <literal>philosophers.bat</literal></para>
        </listitem>

        <listitem>
          <para>source : <literal>examples/philosophers</literal></para>
        </listitem>
      </itemizedlist></sect3>
    	<sect3><title>Local Example 4: The N-Body Simulation</title><para>This example can be used later on as a deployment example for
    	 several machines, and also for the fault-tolerance features. <itemizedlist>
          <listitem>
            <para>script : <literal>nbody.sh</literal> or
            <literal>nbody.bat</literal></para>
          </listitem>

          <listitem>
            <para>source : <literal>examples/nbody</literal></para>
          </listitem>
        </itemizedlist></para></sect3></sect2>


     
  </sect1>


</chapter>