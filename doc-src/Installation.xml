<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="Installation"><info><title>ProActive And IC2D Installation</title></info>

  <para>ProActive is available for <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://proactive.inria.fr/download_proactive_latest.htm"> download </link>under 
  the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html"> GPL 2</link>
   license. ProActive requires <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://java.sun.com/j2se/1.5/">JDK 1.5</link> or later to be installed 
  on your computer. Please note that ProActive will NOT run with any 
  version prior to 1.5 since some features introduced in JDK 1.5 are essential.</para>

  <section><info><title>ProActive Installation Overview</title></info>
    

    <section><info><title>Testing ProActive With The Examples</title></info>
      

      <itemizedlist>
        <listitem>
         <para> Download and expand the ProActive archive</para>
        </listitem>

        <listitem>
          <para>Set the <literal>JAVA_HOME</literal> variable to the Java distribution you want to use</para>
        </listitem>

        <listitem>
          <para>Launch the scripts located in <literal>ProActive/scripts/unix
          </literal> or <literal>ProActive/scripts/windows</literal></para>
        </listitem>
      </itemizedlist>
    </section>

    <section><info><title>Developing With ProActive</title></info>
      

      <itemizedlist>
        <listitem>
          <para>Download and unzip the ProActive archive</para>
        </listitem>

        <listitem>
          
          <para>Include in your <literal>CLASSPATH</literal> the 
          	ProActive jar file <literal>ProActive/dist/lib/ProActive.jar</literal>
          		along with <literal>ProActive/dist/javassist.jar</literal>,
          		<literal>ProActive/dist/log4j.jar</literal>, 
          		<literal>ProActive/dist/xercesImpl.jar</literal>, 
          		<literal>ProActive/dist/components/fractal.jar</literal>,  
          		and <literal>ProActive/dist/bouncycastle.jar</literal></para>
        </listitem>

        <listitem>
          <para>Depending on your project needs, you might need to include other libraries
           located in the <literal>ProActive/lib </literal>directory.</para>
        </listitem>

        <listitem>
          <para>Launch the JVM with a <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://java.sun.com/j2se/1.5/docs/guide/security/permissions.html"> security policy
          file</link> using the option
          <literal> -Djava.security.policy=pathToFile</literal>. A basic policy file
          can be found at <literal>ProActive/scripts/proactive.java.policy</literal>. You can also specify a 
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://logging.apache.org/log4j/docs/manual.html">log4j configuration
          file</link> with the property <literal>-Dlog4j.configuration=file:pathToFile</literal>.
          If a configuration file is not specified a default logger that logs on the console will be created.</para>
        </listitem>
      </itemizedlist>

      <para>Below the different steps are described in more detail.</para>
    </section>
    
  </section>

  <section><info><title>ProActive Detailed Installation Steps</title></info>
    

    <section><info><title>Download And Expand The Archive</title></info>
    	
    	<para>You can download the archive file (a standard zip file) containing 
    	ProActive from the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://proactive.inria.fr/download_proactive_latest.htm">
    	 download section </link> of the ProActive home page. You will be asked to accept 
    	 the license agreement and provide a few details including your email address.
    	 Within a few minutes you will  receive an email containing 
    	 a password and an URL where you will be able to download the latest release of ProActive.</para>
    	 <para>Unzip the archive using your favorite ZIP program, such as 
    	 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.winzip.com/">Winzip</link> under Windows or 
    	 the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.info-zip.org/pub/infozip/"> unzip </link>
    	 command-line utility under most Linux/Unix systems. 
    	 Unzipping the archive creates a ProActive directory and all the files contained in 
    	 the archive go into this directory and its subdirectories.</para><para>Here is a quick 
    	 overview of the directory structure of the archive:</para><informaltable frame="all"><info><title>ProActive.zip contents</title></info>
      

      <tgroup cols="2">
        <colspec colname="c1" colwidth="35*"/>

        <colspec colname="c2" colwidth="65*"/>

        <tbody>
          <row>
            <entry><para><emphasis role="bold">Directory or File</emphasis></para></entry>

            <entry><para><emphasis role="bold">Description</emphasis></para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>ProActive.jar</literal></emphasis></para></entry>

            <entry><para>ProActive bytecode that you need to include in the
            <literal>CLASSPATH</literal> in order to use ProActive</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>ProActive_examples.jar</literal></emphasis></para></entry>

            <entry><para>The bytecode and resources of all examples included with ProActive.
             This jar file needs to be included in the <literal>CLASSPATH</literal> only when trying
              to run the examples. All examples rely on ProActive and therefore the <literal>ProActive.jar</literal>
               file must be included in the <literal>CLASSPATH</literal> as well. This is done automatically by
                the scripts driving the examples. The source code is also included in the
                 <literal>src</literal> directory (see below)</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>ic2d.jar</literal></emphasis></para></entry>

            <entry><para>The bytecode and resources of IC2D. This jar file needs to be included in
             the <literal>CLASSPATH</literal> only when trying to run the application IC2D.
              IC2D relies on ProActive and therefore <literal>theProActive.jar</literal> file must be
               included in the <literal>CLASSPATH</literal>. This is done automatically by the scripts
                launching the application. The source code is also included in the <literal>src</literal> directory (see below)</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>lib</literal></emphasis></para></entry>

            <entry><para>The external libraries used by
            ProActive</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>docs</literal></emphasis></para></entry>

            <entry><para>ProActive documentation including the full API
            doc</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>scripts/unix</literal></emphasis></para></entry>

            <entry><para>Unix sh scripts for running the examples</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>scripts/windows</literal></emphasis></para></entry>

            <entry><para>Windows bat batch files for running the examples</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>src</literal></emphasis></para></entry>

            <entry><para>For source version only, the full source code of
            ProActive</para></entry>
          </row>

          <row>
            <entry><para><emphasis role="bold"><literal>compile</literal></emphasis></para></entry>

            <entry><para>For source version only, the scripts to compile
            ProActive using Ant.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable></section>

    

    


    <section><info><title>Set the <literal>CLASSPATH</literal> for using ProActive to write applications</title></info><indexterm significance="preferred">
      <primary>CLASSPATH</primary>

      <secondary>to run ProActive</secondary>
    </indexterm><para>In order to use ProActive to write your
    application you need to place in your <literal>CLASSPATH</literal> the
    following jar files :</para>
    <itemizedlist>
      <listitem>
        <para><literal>dist/lib/ProActive.jar</literal> - main library</para>
      </listitem>

      <listitem>
        <para><literal>lib/javassist.jar</literal> - used to handle bytecode manipulation.</para>
      </listitem>

      <listitem>
       
        <para><literal>lib/log4j.jar</literal> - <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://logging.apache.org/log4j/docs/manual.html">logging</link>
          mechanism used in ProActive.</para>
      </listitem>

      <listitem>
        <para><literal>lib/xercesImpl.jar</literal>
         - used to parse and validate XML
        files, like deployment descriptors, configuration files and component
        files (see <xref linkend="XML_Descriptors"/>, <xref linkend="Configuration"/>, and <xref linkend="intro"/>).</para>
      </listitem>

      <listitem>
        <para><literal>lib/components/fractal.jar</literal>
        - component model used for ProActive Components (see
        <xref linkend="comp_configuration"/>).</para>
      </listitem>

      <listitem>
        <para><literal>lib/bouncycastle.jar</literal> - used by the ProActive security framework (see <xref linkend="Security"/>).</para>
      </listitem>
    </itemizedlist><para>You do not need to modify your <literal>CLASSPATH</literal> permanently if you
    include the entries above using a Java IDE or a shell script.</para>
   
    <para>Under Linux/Unix:</para>

    <para>
    Open a  Linux/Unix terminal, change to the install directory using <literal>cd </literal> 
    and set the the <literal>CLASSPATH</literal>.
    </para>
   <para>
     <programlisting xml:lang="java"><textobject><textdata fileref="code_snippets/class_path_linux.txt"/></textobject></programlisting>
   	</para>
    <para>Under Windows:</para>
	<para> Open a Windows command terminal by executing either <literal>cmd</literal> or
	<literal>command</literal> in <emphasis>Start-&gt; Run</emphasis> </para>
	<para>
	Change to the ProActive installation folder by using  <literal>cd </literal> 
	then set the <literal>CLASSPATH</literal> by executing the following commands.
    </para>
	
   <para>
     <programlisting xml:lang="java"><textobject><textdata fileref="code_snippets/class_path_windows.txt"/></textobject></programlisting>
   	</para>
     
    
    <para>In addition to the jar files above you may want to add the following
    jar files. None of them are used directly by the core functionalities of
    ProActive but only in part of the library. They are not needed at runtime if those specific
    functionalities are not used but they are needed to compile all
    the code.</para>
    <itemizedlist>
      <listitem>
        <para><literal>ganymed-ssh2-build210.jar</literal> - used when tunneling with rmissh.</para>
      </listitem>

      <listitem>
        <para><literal>cryptix.jar, cog-jglobus-1.2.jar, puretls.jar, cryptix32.jar, cryptix-asn1.jar, cog-ogce.jar, cog-jglobus.jar
        </literal> - used to interface with Globus</para>
      </listitem>

      <listitem>
        <para><literal>fractal.jar, fractal-gui.jar, fractal-swing.jar, fractal-adl.jar</literal> - used by the the Fractal components</para>
      </listitem>

      <listitem>
        <para> <literal>commons-discovery.jar, saaj-api.jar, commons-logging.jar, jaxrpc.jar, activation.jar, wsdl4j.jar, mail.jar,servlet-api.jar,
				xml-apis.jar, axis.jar, soap.jar</literal> - used by the Web Services features </para>
      </listitem>

      <listitem>
        <para><literal>bcel-5.1.jar, ibis-util-1.0.jar, colobus-0.1.jar,
         ibis-connect-1.0.jar, ibis-1.4.jar, bcel-5.1-fixes-1.0.jar</literal> - used by Ibis if
        configured as communication protocol</para>
      </listitem>

      <listitem>
        <para><literal>client.jar, ajo.jar, SystemDefaults.txt, njs_client.jar, scriptPlugin.jar, jh.jar</literal> 
        - used when deploying to a UNICORE site.</para>
      </listitem>

      <listitem>
        <para><literal>classad.jar, glite-wms-jdlj.jar</literal>  - used when deploying on gLite sites.</para>
      </listitem>
    </itemizedlist>
    <para>
    	The jar files can be found under <literal> Proactive/lib </literal> and under
    	<literal> ProaActive/dist/lib</literal>.  
    </para>
    </section>
    <section><info><title xml:id="Create_Java_Policy">Create a <literal>java.policy</literal> File To Set
    Permissions</title></info><para>See <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://java.sun.com/j2se/1.5/docs/guide/security/permissions.html">Permissions
    in the JavaTM 2 SDK</link> to learn more about Java permissions. The
    option <literal>-Djava.security.policy=pathToFile</literal> will specify which security policy file to
    use within ProActive. As a first approximation, you can create a simple security
    policy file granting all permissions:</para>
    
    <para>
    
    <programlisting xml:lang="java"><textobject><textdata fileref="../compile/proactive.java.policy"/></textobject></programlisting>
	</para><note><para>
 	If you use the scripts provided with the distribution to run the
 	examples an existing policy file named
 	<literal>proactive.java.policy</literal>
 	will be used by default.
	</para></note></section>
    <section><info><title>Create A <literal>log4j</literal> Configuration File</title></info><indexterm>
      <primary>Log4j</primary>

      <secondary>configuration</secondary>
    </indexterm><example><info><title>A simple proactive-log4j file</title></info>
     

		
	<para>See  for logging using
    the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://logging.apache.org/log4j/1.2/index.html">Apache log4j</link>. The
    option <literal>-Dlog4j.configuration=file:pathToFile</literal> will specify which logging policy file to
    use within ProActive. As a first approximation, you can create a simple logging
    policy file:
		
			
		</para>
      <programlisting xml:lang="java"><textobject><textdata fileref="../scripts/proactive-log4j"/></textobject></programlisting>
    </example><note>
      <para>If you use the scripts provided with the distribution to run the
      examples an existing log4j file named <literal>proactive-log4j</literal>
      will be used by default.</para>
    </note></section>
    <section><info><title>Run A Few Examples For Testing</title></info><para>You can try to run the test applications provided with ProActive.
     Each example comes with a script to launch the application. Depending on your
      operating system, the script you need to launch is located either in<literal> ProActive/scripts/unix </literal> or
    <literal>ProActive/scripts/windows</literal>. The source code of all the examples can be found in the directory <literal>ProActive/src/Examples/org/objectweb/proactive/examples/</literal>.</para>
    	<section><info><title>Local Example 2: Reader/Writer</title></info><para>This example is the ProActive version of the Readers/Writers
      canonical problem. To illustrate the ease-of-use of the ProActive model,
      different synchronization policies can be applied without even stopping the application. This example is based on a easy to use Swing
      GUI.</para><itemizedlist>
        <listitem>
          <para>script : <literal>readers.sh</literal> or
          <literal>readers.bat</literal></para>
        </listitem>

        <listitem>
          <para>source : <literal>examples/readers</literal></para>
        </listitem>
      </itemizedlist></section>
    	<section><info><title>Local Example 3: The Dining Philosophers</title></info>
    	<para>This example is one possible implementation of the well-known Dining
    	 Philosophers synchronization problem. This
      example is based on a easy to use Swing GUI.</para>
      <itemizedlist>
        <listitem>
          <para>script : <literal>philosophers.sh</literal> or
          <literal>philosophers.bat</literal></para>
        </listitem>
        <listitem>
          <para>source : <literal>examples/philosophers</literal></para>
        </listitem>
      </itemizedlist></section>
      
    	<section><info><title>Local Example 4: The N-Body Simulation</title></info><para>This example can be used later on as a deployment example for
    	 several machines, and also for the fault-tolerance features. <itemizedlist>
          <listitem>
            <para>script : <literal>nbody.sh</literal> or
            <literal>nbody.bat</literal></para>
          </listitem>

          <listitem>
            <para>source : <literal>examples/nbody</literal></para>
          </listitem>
        </itemizedlist></para></section></section>
	 </section>
	 <section><info><title>IC2D Installation</title></info>
	 	
	 	
	 	<section><info><title>Normal Usage Installation</title></info>
	 		
	    	<para>You can download the archive file (a standard zip file) containing 
	    	IC2D from the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://proactive.inria.fr/download_ic2d_latest.htm">
	    	 download section </link> of the ProActive home page. You will be asked to accept 
	    	 the license agreement and provide a few details including your email address.
	    	 Within a few minutes you will  receive an email containing 
	    	 a password and an URL where you will be able to download the latest release of IC2D.</para>
	    	 <para>Unzip the archive using your favorite ZIP program, such as 
	    	 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.winzip.com/">Winzip</link> under Windows or 
	    	 the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.info-zip.org/pub/infozip/"> unzip </link>
	    	 command-line utility under most Linux/Unix systems. 
	    	 Unzipping the archive creates an IC2D directory and all the files contained in 
	    	 the archive go into this directory and its subdirectories.</para>
	    	 <para>
	    	 	Run IC2D from the installation folder to start monitoring.
	    	 	For information on using IC2D read <xref linkend="IC2D_EclipsePlugin"/> 
	    	 </para>
	 	</section>
		<section><info><title> Development Installation</title></info>	
			
			<para>
				If you want to develop IC2D or plugins for IC2D the installation steps are
				the following: 
		 	</para>
		 	<orderedlist>
		 	
		 		<listitem>
		 		<para>
		 			Download and unpack the RCP/Plug-in Developers version of <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.eclipse.org/downloads/">Eclipse</link>.
		 		</para>
		 		</listitem>
		 		<listitem>
		 		<para>
		 			Install <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://subclipse.tigris.org/install.html">Subversion
		 			</link> or your SVN client of choice.</para>
		 		</listitem>
		 		<listitem>
		 		<para>
		 			Download ProActive for development through the anonymous or authenticated SVN.
		 			The <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://gforge.inria.fr/scm/?group_id=180">SVN</link>  and 
		 			<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://siteadmin.gforge.inria.fr/eclipse-ssh.html">Eclipse</link> configuration
		 			information can be found on the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://gforge.inria.fr/">INRIA gForge</link> website.  
		 		</para>
		 		</listitem>
		 		<listitem>
		 		<para>
		 			Compile IC2D and ProActive by running</para> 
		 				<programlisting><textobject><textdata fileref="code_snippets/compile_ic2d.txt"/></textobject></programlisting>
		 		</listitem>
		 		<listitem>
		 			<para>Import the IC2D plugin by going to  File --&gt; Import.</para>
		 			<para>Import from the ProActive project in the workspace.</para>
							 			<para>
						<informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/eclipse_import.png"/>
								</imageobject>
							</mediaobject>
						</informalfigure></para>
						<para>Browse for the directory containing the IC2D plugins.	</para>
						<para><informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/eclipse_import_browse.png"/>
								</imageobject>
							</mediaobject>
						</informalfigure></para>
						<para>The directory
							is <literal>ic2d-plugins-src</literal> in the ProActive installation
							directory.</para>
						<para>
						<informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/browse_window.png"/>
								</imageobject>
							</mediaobject>
						</informalfigure>
					</para>	<para>
						When the plugins have finished loading click on the
						Finish button and Eclipse should look like this:</para>
						<para>
						<informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/eclipse_with_plugins.png"/>
								</imageobject>
							</mediaobject>
						</informalfigure>						
		 			</para>
		 		</listitem>
		 		<listitem>
		 		<para>
		 			Install  the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.eclipse.org/birt/phoenix/">Business Intelligence and Reporting Tools </link> 
		 			used by TimIt for profiling.
		 			To install go to Help-&gt; Software Updates -&gt; Find And Install.
		 		
		 		</para>
		 		<para>
		 				<informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/update_manager.png"/>
								</imageobject>
							</mediaobject>
						</informalfigure>
						</para>		
		 		<para>Select Europa Discovery:</para>
		 			<para>	<informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/europa_discovery.png"/>
								</imageobject>
							</mediaobject>
						</informalfigure>		
				</para>
		 		<para>Select "Charting and Reporting" and then click the Select Required button:</para>
		 			<para>	<informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/birt_selected.png"/>
								</imageobject>
							</mediaobject>
						</informalfigure>
			 	</para>	
		 		</listitem>
		 		<listitem><para>
		 			After the Birt installation is done, go to ic2dproduct and click Synchronize
		 			and then click on Launch Application. Don't worry if the launch fails we will fix that in the next step.
		 		</para>
		 		<para>
		 				<informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/ic2dproduct.png"/>
								</imageobject>
							</mediaobject>
						</informalfigure>
		 		
		 		</para>
		 		</listitem>
		 		<listitem>
		 		<para>
		 			Open the Run Dialog, click on ic2d.product, click on Plugins tab, select all the workspace plugins, click on the Add Required button, click on Apply, and then click on Run. 
		 		</para>
		 		<para>
		 				<informalfigure>
							<mediaobject>
								<imageobject>
									<imagedata scalefit="1" width="100%" contentdepth="100%"   fileref="images/IC2D_development_installation/select_run_plugins.png"/>
								</imageobject>
							</mediaobject>
							</informalfigure>
		 		</para>
		 		</listitem>
		 	</orderedlist>
		 	<para>You now have a running IC2D application. Feel free to test and improve the code. </para>
		 </section>
		 <section><info><title>ProActive Scheduler GUI Installation</title></info>
		 	
		 	<para>
		 		ProActive has a job scheduler that can be used for submitting tasks and examining results. 
		 		For an introduction on how to use the job scheduler read <xref linkend="scheduler_tutorial"/> 
		 		and for a for an exhaustive explanation read <xref linkend="ProActive_Scheduler"/> 
		 		
		 	</para>
		 	<section><info><title>Normal Usage Installation</title></info>
		 		
		 		<para/>
		 	</section>
		 	<section><info><title>Development Installation</title></info>
		 		
		 		<para>
		 		</para>
		 	</section>
		 </section>
	 </section>
</chapter>
